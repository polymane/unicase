<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         point="org.eclipse.emf.ecore.content_parser">
      <parser
            class="org.unicase.ui.common.diagram.MEDiagramResource"
            contentTypeIdentifier="MEDiagram">
      </parser>
   </extension>
  <extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypeBindings">
      <?gmfgen generated="true"?>
      <clientContext id="DiagramContext">
      
     <enablement>
            <test
               property="org.eclipse.gmf.runtime.emf.core.editingDomain"
               value="org.unicase.EditingDomain"/>
         </enablement>
      </clientContext> 
      <binding context="DiagramContext">
         <elementType ref="org.unicase.classDiagram.MEDiagram_79"/>
         <elementType ref="org.unicase.classDiagram.Class_1001"/>
         <elementType ref="org.unicase.classDiagram.Association_3001"/>
          <elementType ref="org.unicase.ui.usecaseDiagram.MEDiagram_77"/>
         <elementType ref="org.unicase.ui.usecaseDiagram.UseCase_1001"/>
         <elementType ref="org.unicase.ui.usecaseDiagram.Actor_1002"/>
         <advice ref="org.eclipse.gmf.runtime.diagram.core.advice.notationDepdendents"/>
      </binding>
   </extension>
  <extension
        point="org.eclipse.ui.handlers">
         <handler
           class="org.unicase.ui.common.commands.DeleteModelelementHandler"
           commandId="org.unicase.ui.common.deleteModelelement">
     </handler>
  </extension>
   <extension
        point="org.eclipse.ui.commands">
     
     <category
           id="org.unicase.ui.common.modifyModelelement"
           name="Modify Modelelement">
     </category>
     <command
           categoryId="org.unicase.ui.common.modifyModelelement"
           id="org.unicase.ui.common.deleteModelelement"
           name="Delete Modelelement">
     </command>
  </extension>
   <extension
        point="org.eclipse.ui.menus">
     <menuContribution
           locationURI="popup:org.unicase.ui.navigator.viewer?after=org.unicase.workspace.edit.workspaceCommands">
      
        <command
              commandId="org.unicase.ui.common.deleteModelelement"
              icon="icons/delete.gif"
              label="Delete"
              style="push">
                <visibleWhen
                 checkEnabled="false">
              <iterate>
                 <instanceof
                       value="org.unicase.model.ModelElement">
                 </instanceof>
              </iterate>
           </visibleWhen>
        </command>
        <separator
              name="org.unicase.ui.common.commands.modifyCommands">
        </separator>
        
     </menuContribution>
    
  </extension>
  <extension
        point="org.eclipse.ui.commands">
     <command
           categoryId="org.unicase.ui.common.commands.addAnnotations"
           id="org.unicase.ui.common.commands.annotateActionItem"
           name="addAnnotation">
     </command>
     <category
           id="org.unicase.ui.common.commands.addAnnotations"
           name="Add Annotations">
     </category>
  </extension>
  <extension
        id="org.unicase.modelElementHandlers"
        name="modelElementHandlers"
        point="org.eclipse.ui.handlers">
     <handler
           class="org.unicase.ui.common.commands.AnnotateActionItemHandler"
           commandId="org.unicase.ui.common.commands.annotateActionItem">
     </handler>
    
  </extension>
  <extension
        point="org.eclipse.ui.menus">
     <menuContribution
           locationURI="popup:org.unicase.ui.navigator.viewer?after=org.unicase.workspace.edit.workspaceCommands">
        <command
              commandId="org.unicase.ui.common.commands.annotateActionItem"
              icon="icons/AnnotateWithActionItem.gif"
              label="New Action Item"
              style="push">
         <visibleWhen
                 checkEnabled="false">
              <iterate>
                 <reference
                       definitionId="org.unicase.ui.common.commands.modelElement">
                 </reference>
              </iterate>
           </visibleWhen>
        </command>
        <separator
              name="org.unicase.ui.common.commands.annotateActionItemSeperator"
              visible="true">
      	 </separator>
        
     </menuContribution>
     <menuContribution
           locationURI="toolbar:org.unicase.ui.meeditor.MEEditorPage?after=additions">
        <command
              commandId="org.unicase.ui.common.commands.annotateActionItem"
              icon="icons/AnnotateWithActionItem.gif"
              label="New Action Item"
              style="push">
          <visibleWhen
                 checkEnabled="false">
              <with
                    variable="activeModelelement">
                 <reference
                       definitionId="org.unicase.ui.common.commands.modelElementNotSection">
                 </reference>
              </with>
           </visibleWhen> 
        </command>
     </menuContribution> 
  </extension>
  <extension
        point="org.eclipse.core.expressions.definitions">
     <definition
           id="org.unicase.ui.common.commands.modelElementNotSection">
        <and>
           <instanceof
                 value="org.unicase.model.ModelElement">
           </instanceof>
           <not>
              <instanceof
                    value="org.unicase.model.document.Section">
              </instanceof>
           </not>
        </and>
     </definition>
     <definition
           id="org.unicase.ui.common.commands.modelElement">
        <instanceof
              value="org.unicase.model.ModelElement">
        </instanceof>
     </definition>
  </extension>
   

</plugin>
