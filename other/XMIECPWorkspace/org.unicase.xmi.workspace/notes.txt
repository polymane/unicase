# REPORTED BUGS

@ FROM Chris
- "Show References"
	1. click on a model element and select 'Show References' 
	2. some entries of the righ-click menu disappear (first of all "New 
	Model Element" which I was looking for - I can't find this menu entry 
	no matter if my focus is on a model element or the whole project) 
	3a. Deleting the project and importing it again solves the problem 
	3b. randomly clicking around (e.g. on "Create Dynamic Instance") 
	sometimes helps as well

@ FROM Matteo
- when creating a new project ("New Project...") and selecting the 
Location before entering the name, the created file will be some kind of 
serial number (123689317863.ucw), even when changing the name afterwards 

- in the "Create/Import Project"-Dialog when Browsing the Filesystem but 
not selecting any file (canceling the Folder/File Selection-Dialog), a 
"12348638475817.ucw" file is selected from my workspace directory, even 
though the file doesn't exist (but is created after clicking Yes) 

OK - in the "Import Project from Folder"-Dialog when Browsing the 
Filesystem, cancelling the Folder Selection-Dialog doesn't seem to work 
(the Dialog reopens after cancelling, so that I have to choose a folder 
to close it)
=> fixed, but was intended!

- using the Delete-Shortcut (in my case CTRL+DEL) on Projects shows a 
different Confirmation Dialog, asking me if I wanted to delete the 
project. Selecting Yes results in a Deletion-Progress (for about 0.1s), 
but doesn't do anything, although deleting via the context menu works

- trying to Drag and Drop any Project or any contained Element results 
in a NullPointerException ("Unhandled event loop exception" in the Error 
Log)

- deleting a project while it's opened in the MEEditor causes a 
NullPointerException ("An unexpected exception was thrown" in the Error Log) 

- it's possible to import the same project-file into the workspace 
twice, allowing it to work simultaneously on the same .xmi file. 
Changing one project doesn't update the other one (if I delete file XYZ 
in project A, i can still change it in project B; restarting Eclipse 
shows, that file XYZ appears again now in project A with the new changes 
done in project B)

@ FROM Stephan
1) If I enter two lines in the project description and then look at 
the description after double clicking on the project in the navigator, 
there's only one line shown and there's even no space between "the 
lines". 

OK 2) If I choose import from Folders and then "Browse Filesystem" and 
then try to cancel the following window. It appears again and again.
=> fixed, see above

@ FROM Tobi
- (Navigator does not refresh when i.e. creating one project after another; 
and also while creating new subelements i.e. ecore model)

OK - ("Abbrechen" bei Import Project from Folder->Browse Filesystem does not work)
=> fixed, see above

Error 6:
Description/Action: (Creating new Project, then New Model Element -> choosing XMIECPFolder -> putting new Project in this folder)
Unhandled event loop exception

Warning 1:	
Description/Action: (additionally (also occurs when trying to set an EReference Type in ecore model package))
An exception was ignored during command execution
org.eclipse.emf.common.util.WrappedException: An exception was ignored during command execution

Error 7:
Description/Action: (reimporting a deleted project/.ucw file through "import projects from folder")
An unexpected exception was thrown.
java.lang.NullPointerException

Error 8:
Description/Action: (importing with "Import Project-File..." while one new project was already in the navigator)
(also occurs when importing from a file throught "Import Project-File..." and then importing the same project through
"Import Project from Folder..." and imports with x+1 (restarting eclipse, solves that problem; seems like it keeps a backup or so and then imports the file from hard drive + backup;
don't know if that's relevant, because why should you import the same project twice?!) 
Problems occurred when invoking code from plug-in: "org.eclipse.ui.workbench".
org.eclipse.swt.SWTException: Widget is disposed

Error 9:
Description/Action: (removing a project through "Delete Project...")
An unexpected exception was thrown.
java.lang.NullPointerException


# TODO
- summary presentation (5 min)

@ OPTIONAL
- Delete Dialog should appear for multiple marked projects

@ POSTPONED
- Make resource path relative to workspace, if chosen from workspace.

@ IGNORE
- remove refresh from our implementation and change TreeView.refresh (also look for changes  in line 388 "addDropSupport")


# Accepted plugins:
# Message extract from Nov 15, 18.35h @ XMI/MemoryLeak Group Channel

As your implementation is for emfcp only you can and must Close all   
Plugins except Navigator Editor ui.Common navigatoreditor Bridge. I   
hope i didnt forget one.


# API Resources
http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/
http://help.eclipse.org/helios/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/overview-summary.html
	


# Resolved:
OK - Change Design -> Refactor, make the Commands do the work, not the Dialogs!
OK - Folder shouldn't be shown in the navigator -> the workspace should shortcut it to the projects in the folder
OK - Feature request: for notes l. 11+12 (ECP Folder Structure done) -> Markus
OK - We shouldn't have dependencies on the workspace package -> remove dependencies (also look for other dependencies that can be removed!) -> Markus
OK - Saving the (workspace-) file to an other place for example where the runtime is!
OK - Use own command instead of unicase command in the dialog
OK - Remove DeleteFolderHandler
Ok - Can we please use the org.unicase.metamodel package? We need it for the "NonDomainElement" and "AssociationClassElement". Otherwise I would have to implement the Classes in a util class.
Ok - With what content should we use the "Browse Workspace" package if the workspace is only ourselves?
Ok - What method is called on which object when you press (the already implemented) "Delete" right-clicking a project in the Navigator? Or how can I link "Delete" to the DeleteProjectHandler?
Ok - listener to refresh the navigator -> project/workspace listeners
Ok - Consolidate Delete: Consolidate Menu -> e.g. remove "Delete", Folder-Entries, ...
Ok - Import dialog: there might be a dialog in eclipse to shortcut to the workspace (directly browse the workspace -> example: reload genmodel)
Ok - Usecase: delete project-file from disk without deleting it in the workspace ->
	 resource.load automatically creates a new project-file!
Ok - where to to get a platform specific slash from?
Ok - Dialogs and Handlers
	 -> If project-file name/location.. is empty : now only error in console but should be a message dialog
Ok - Command Exceptions when invoking New, Import and delete
OK - refactor init() in XMIFileProjectImpl to Getter methods!
Ok - File changed on file system or has been deleted
	OK -> add a status to the project in form of an enumeration with the values LOADED, NOTLOADED, FAILEDTOLOAD
	OK -> Change the ItemProvider so it asks the project for its status and changes the icon/text if FAILEDTOLOAD
		-> also changed icon added
Ok - Remove commented code where metamodel-package-usage is marked and add a comment behind the return that this plugin does not support Associations, etc.
Ok - Send a Patch to Jonas from the navigator-package -> Delete in Menu-Issue
Ok - Change the Import- and New-Project-Dialog so the emf.common...ResourceDialog with the Eclipse-Navigator-Workspace-Content can be used.
Ok - The Slash is File.SEPARATOR .
Ok - In the XMIWorkspace call getProjects() instead of directly addressing the projects, because of the change listeners for the Navigator.
	-> This does not work, listener adapters in TreeView register on us and they need to be called when changed!
Ok - Send a Bug-Report to Jonas that if there are no packages registered for the application, the "New Model Element"-Dialog is strange...
OK - File changed on file system or has been deleted
	OK -> popupmenu needs to get a PropertyTester (new class) and then execute a Dialog where it asks the user what to do with the failed Projects (Import/Delete/New).
	OK -> Add icon to Resolve command
	OK -> plugin.xml: for deleted project only one popup menu entry: "resolve"
OK - refactor workspace -> remove folder items
OK - add Progress-bar when trying to load a folder (respectively trying to load projects from a folder)
OK - change project icon
OK - Delete menu entry does not work for baseElements
	see plugin.xml from ui.common where the "Delete" command is added,
	in our plugin.xml adding it was not successful and we can't extend
	the org.unicase.common.commands.DeleteModelElementCommand due to
	keyword final of the class
	The problem is that the EObjects don't know the project and therefore
	they will not be removed from the baseElements list.

	=> Solution:
	OK - change their DeleteModelElementCommand and add this line before deleting the eObject:
	eObject.eResource().getContents().remove(eObject);
	OK - add listener to fileprojectimpl
	
	OK - Test scenarios:
		- Unicase / EMFStore
		- XMI Workspace
	
OK - All models are displayed when you open up "New Model Element" on any project.
	It should be that in a new project, all models are displayed so the user can pick its model,
	but in an existing model only the model itself is shown.
		- If Package not found -> show dialog what to do
		- Search in NewModelElement Dialog throws an error, e.g. The image resource 'full/obj16/XSDNumericFacet' could not be located
	
	=> Solution:
	OK - Individual MetaModelElementContext for each project
	OK - Contextmenu add "Configure EPackages..."
		OK - add to and remove epackages from the project 
	OK - When project is loaded -> scan file and add the packages to the list of epackages
	OK - when a new baselement is added, also save its model and refresh the view
	OK - sort models alphabetically

OK - Add "Mark the Projects that shall be imported" in Import Folder Dialog

OK - prepare a feature
	OK - include icons
	OK - test deployment